const obj = [
    {
        "alias": "leaders",
        "data": {
            "title": "–ë–æ–ª—å—à–µ –≤—Å–µ–≥–æ –∫–æ–º–º–∏—Ç–æ–≤",
            "subtitle": "–°–ø—Ä–∏–Ω—Ç ‚Ññ 213",
            "emoji": "üëë",
            "users": [
                {"id": 3, "name": "–î–∞—Ä—å—è –ö–æ–≤–∞–ª–µ–≤–∞", "avatar": "3.jpg", "valueText": "32"},
                {"id": 9, "name": "–°–µ—Ä–≥–µ–π –ë–µ—Ä–µ–∂–Ω–æ–π", "avatar": "9.jpg", "valueText": "27"},
                {"id": 7, "name": "–î–º–∏—Ç—Ä–∏–π –ê–Ω–¥—Ä–∏—è–Ω–æ–≤", "avatar": "7.jpg", "valueText": "22"},
                {"id": 6, "name": "–ê–Ω–¥—Ä–µ–π –ú–æ–∫—Ä–æ—É—Å–æ–≤", "avatar": "6.jpg", "valueText": "20"},
                {"id": 8, "name": "–ê–ª–µ–∫—Å–∞–Ω–¥—Ä –ò–≤–∞–Ω–∫–æ–≤", "avatar": "8.jpg", "valueText": "19"}
            ]
        }
    },
    {
        "alias": "leaders",
        "data": {
            "title": "–°–∞–º—ã–π –±–æ–ª—å—à–æ–π –∫–æ–º–º–∏—Ç",
            "subtitle": "–°–ø—Ä–∏–Ω—Ç ‚Ññ 213",
            "emoji": "üòÆ",
            "users": [
                {"id": 12, "name": "–ê–ª–µ–∫—Å–µ–π –Ø—Ä–æ—à–µ–≤–∏—á", "avatar": "12.jpg", "valueText": "4001 —Å—Ç—Ä–æ–∫–∞"},
                {"id": 5, "name": "–ê–ª–µ–∫—Å–∞–Ω–¥—Ä –ù–∏–∫–æ–ª–∞–∏—á–µ–≤", "avatar": "5.jpg", "valueText": "3845 —Å—Ç—Ä–æ–∫"},
                {"id": 8, "name": "–ê–ª–µ–∫—Å–∞–Ω–¥—Ä –ò–≤–∞–Ω–∫–æ–≤", "avatar": "8.jpg", "valueText": "3640 —Å—Ç—Ä–æ–∫"},
                {"id": 10, "name": "–Ø–Ω–∞ –ë–µ—Ä–Ω–∏–∫–æ–≤–∞", "avatar": "10.jpg", "valueText": "3453 —Å—Ç—Ä–æ–∫–∏"},
                {"id": 4, "name": "–í–∞–¥–∏–º –ü–∞—Ü–µ–≤", "avatar": "4.jpg", "valueText": "2852 —Å—Ç—Ä–æ–∫–∏"}
            ]
        }
    },
    {
        "alias": "vote",
        "data": {
            "title": "–°–∞–º—ã–π üîé –≤–Ω–∏–º–∞—Ç–µ–ª—å–Ω—ã–π —Ä–∞–∑—Ä–∞–±–æ—Ç—á–∏–∫",
            "subtitle": "–°–ø—Ä–∏–Ω—Ç ‚Ññ 213",
            "emoji": "üîé",
            "selectedUserId": 4,
            "users": [
                {"id": 1, "name": "–ï–≤–≥–µ–Ω–∏–π –î–µ–º–µ–Ω—Ç—å–µ–≤", "avatar": "1.jpg", "valueText": "22 –≥–æ–ª–æ—Å–∞"},
                {"id": 4, "name": "–í–∞–¥–∏–º –ü–∞—Ü–µ–≤", "avatar": "4.jpg", "valueText": "19 –≥–æ–ª–æ—Å–æ–≤"},
                {"id": 10, "name": "–Ø–Ω–∞ –ë–µ—Ä–Ω–∏–∫–æ–≤–∞", "avatar": "10.jpg", "valueText": "17 –≥–æ–ª–æ—Å–æ–≤"},
                {"id": 12, "name": "–ê–ª–µ–∫—Å–µ–π –Ø—Ä–æ—à–µ–≤–∏—á", "avatar": "12.jpg", "valueText": "16 –≥–æ–ª–æ—Å–æ–≤"},
                {"id": 11, "name": "–Æ—Ä–∏–π –§—Ä–æ–ª–æ–≤", "avatar": "11.jpg", "valueText": "11 –≥–æ–ª–æ—Å–æ–≤"},
                {"id": 2, "name": "–ê–ª–µ–∫—Å–∞–Ω–¥—Ä –®–ª–µ–π–∫–æ", "avatar": "2.jpg", "valueText": "10 –≥–æ–ª–æ—Å–æ–≤"},
                {"id": 5, "name": "–ê–ª–µ–∫—Å–∞–Ω–¥—Ä –ù–∏–∫–æ–ª–∞–∏—á–µ–≤", "avatar": "5.jpg", "valueText": "9 –≥–æ–ª–æ—Å–æ–≤"},
                {"id": 6, "name": "–ê–Ω–¥—Ä–µ–π –ú–æ–∫—Ä–æ—É—Å–æ–≤", "avatar": "6.jpg", "valueText": "8 –≥–æ–ª–æ—Å–æ–≤"},
                {"id": 8, "name": "–ê–ª–µ–∫—Å–∞–Ω–¥—Ä –ò–≤–∞–Ω–∫–æ–≤", "avatar": "8.jpg", "valueText": "7 –≥–æ–ª–æ—Å–æ–≤"},
                {"id": 7, "name": "–î–º–∏—Ç—Ä–∏–π –ê–Ω–¥—Ä–∏—è–Ω–æ–≤", "avatar": "7.jpg", "valueText": "6 –≥–æ–ª–æ—Å–æ–≤"},
                {"id": 3, "name": "–î–∞—Ä—å—è –ö–æ–≤–∞–ª–µ–≤–∞", "avatar": "3.jpg", "valueText": "5 –≥–æ–ª–æ—Å–æ–≤"},
                {"id": 9, "name": "–°–µ—Ä–≥–µ–π –ë–µ—Ä–µ–∂–Ω–æ–π", "avatar": "9.jpg", "valueText": "4 –≥–æ–ª–æ—Å–∞"}
            ]
        }
    },
    {
        "alias": "leaders",
        "data": {
            "title": "–°–∞–º—ã–π üîé –≤–Ω–∏–º–∞—Ç–µ–ª—å–Ω—ã–π —Ä–∞–∑—Ä–∞–±–æ—Ç—á–∏–∫",
            "subtitle": "–°–ø—Ä–∏–Ω—Ç ‚Ññ 213",
            "emoji": "üîé",
            "selectedUserId": 11,
            "users": [
                {"id": 1, "name": "–ï–≤–≥–µ–Ω–∏–π –î–µ–º–µ–Ω—Ç—å–µ–≤", "avatar": "1.jpg", "valueText": "22 –≥–æ–ª–æ—Å–∞"},
                {"id": 4, "name": "–í–∞–¥–∏–º –ü–∞—Ü–µ–≤", "avatar": "4.jpg", "valueText": "19 –≥–æ–ª–æ—Å–æ–≤"},
                {"id": 10, "name": "–Ø–Ω–∞ –ë–µ—Ä–Ω–∏–∫–æ–≤–∞", "avatar": "10.jpg", "valueText": "17 –≥–æ–ª–æ—Å–æ–≤"},
                {"id": 12, "name": "–ê–ª–µ–∫—Å–µ–π –Ø—Ä–æ—à–µ–≤–∏—á", "avatar": "12.jpg", "valueText": "16 –≥–æ–ª–æ—Å–æ–≤"},
                {"id": 11, "name": "–Æ—Ä–∏–π –§—Ä–æ–ª–æ–≤", "avatar": "11.jpg", "valueText": "15 –≥–æ–ª–æ—Å–æ–≤"},
                {"id": 2, "name": "–ê–ª–µ–∫—Å–∞–Ω–¥—Ä –®–ª–µ–π–∫–æ", "avatar": "2.jpg", "valueText": "14 –≥–æ–ª–æ—Å–æ–≤"},
                {"id": 5, "name": "–ê–ª–µ–∫—Å–∞–Ω–¥—Ä –ù–∏–∫–æ–ª–∞–∏—á–µ–≤", "avatar": "5.jpg", "valueText": "12 –≥–æ–ª–æ—Å–æ–≤"},
                {"id": 6, "name": "–ê–Ω–¥—Ä–µ–π –ú–æ–∫—Ä–æ—É—Å–æ–≤", "avatar": "6.jpg", "valueText": "9 –≥–æ–ª–æ—Å–æ–≤"},
                {"id": 8, "name": "–ê–ª–µ–∫—Å–∞–Ω–¥—Ä –ò–≤–∞–Ω–∫–æ–≤", "avatar": "8.jpg", "valueText": "8 –≥–æ–ª–æ—Å–æ–≤"},
                {"id": 7, "name": "–î–º–∏—Ç—Ä–∏–π –ê–Ω–¥—Ä–∏—è–Ω–æ–≤", "avatar": "7.jpg", "valueText": "6 –≥–æ–ª–æ—Å–æ–≤"},
                {"id": 3, "name": "–î–∞—Ä—å—è –ö–æ–≤–∞–ª–µ–≤–∞", "avatar": "3.jpg", "valueText": "5 –≥–æ–ª–æ—Å–æ–≤"},
                {"id": 9, "name": "–°–µ—Ä–≥–µ–π –ë–µ—Ä–µ–∂–Ω–æ–π", "avatar": "9.jpg", "valueText": "4 –≥–æ–ª–æ—Å–∞"}
            ]
        }
    },
    {
        "alias": "vote",
        "data": {
            "title": "–°–∞–º—ã–π üë™ –∫–æ–º–∞–Ω–¥–Ω—ã–π —Ä–∞–∑—Ä–∞–±–æ—Ç—á–∏–∫",
            "subtitle": "–°–ø—Ä–∏–Ω—Ç ‚Ññ 213",
            "emoji": "üë™",
            "offset": 8,
            "users": [
                {"id": 2, "name": "–ê–ª–µ–∫—Å–∞–Ω–¥—Ä –®–ª–µ–π–∫–æ", "avatar": "2.jpg", "valueText": "24 –≥–æ–ª–æ—Å–∞"},
                {"id": 3, "name": "–î–∞—Ä—å—è –ö–æ–≤–∞–ª–µ–≤–∞", "avatar": "3.jpg", "valueText": "21 –≥–æ–ª–æ—Å"},
                {"id": 6, "name": "–ê–Ω–¥—Ä–µ–π –ú–æ–∫—Ä–æ—É—Å–æ–≤", "avatar": "6.jpg", "valueText": "19 –≥–æ–ª–æ—Å–æ–≤"},
                {"id": 7, "name": "–î–º–∏—Ç—Ä–∏–π –ê–Ω–¥—Ä–∏—è–Ω–æ–≤", "avatar": "7.jpg", "valueText": "18 –≥–æ–ª–æ—Å–æ–≤"},
                {"id": 1, "name": "–ï–≤–≥–µ–Ω–∏–π –î–µ–º–µ–Ω—Ç—å–µ–≤", "avatar": "1.jpg", "valueText": "16 –≥–æ–ª–æ—Å–æ–≤"},
                {"id": 9, "name": "–°–µ—Ä–≥–µ–π –ë–µ—Ä–µ–∂–Ω–æ–π", "avatar": "9.jpg", "valueText": "14 –≥–æ–ª–æ—Å–æ–≤"},
                {"id": 8, "name": "–ê–ª–µ–∫—Å–∞–Ω–¥—Ä –ò–≤–∞–Ω–∫–æ–≤", "avatar": "8.jpg", "valueText": "13 –≥–æ–ª–æ—Å–æ–≤"},
                {"id": 11, "name": "–Æ—Ä–∏–π –§—Ä–æ–ª–æ–≤", "avatar": "11.jpg", "valueText": "11 –≥–æ–ª–æ—Å–æ–≤"},
                {"id": 10, "name": "–Ø–Ω–∞ –ë–µ—Ä–Ω–∏–∫–æ–≤–∞", "avatar": "10.jpg", "valueText": "9 –≥–æ–ª–æ—Å–æ–≤"},
                {"id": 12, "name": "–ê–ª–µ–∫—Å–µ–π –Ø—Ä–æ—à–µ–≤–∏—á", "avatar": "12.jpg", "valueText": "7 –≥–æ–ª–æ—Å–æ–≤"},
                {"id": 5, "name": "–ê–ª–µ–∫—Å–∞–Ω–¥—Ä –ù–∏–∫–æ–ª–∞–∏—á–µ–≤", "avatar": "5.jpg", "valueText": "6 –≥–æ–ª–æ—Å–æ–≤"},
                {"id": 4, "name": "–í–∞–¥–∏–º –ü–∞—Ü–µ–≤", "avatar": "4.jpg", "valueText": "5 –≥–æ–ª–æ—Å–æ–≤"}
            ]
        }
    },
    {
        "alias": "leaders",
        "data": {
            "title": "–°–∞–º—ã–π üë™ –∫–æ–º–∞–Ω–¥–Ω—ã–π —Ä–∞–∑—Ä–∞–±–æ—Ç—á–∏–∫",
            "subtitle": "–°–ø—Ä–∏–Ω—Ç ‚Ññ 213",
            "emoji": "üë™",
            "selectedUserId": 6,
            "users": [
                {"id": 2, "name": "–ê–ª–µ–∫—Å–∞–Ω–¥—Ä –®–ª–µ–π–∫–æ", "avatar": "2.jpg", "valueText": "24 –≥–æ–ª–æ—Å–∞"},
                {"id": 3, "name": "–î–∞—Ä—å—è –ö–æ–≤–∞–ª–µ–≤–∞", "avatar": "3.jpg", "valueText": "21 –≥–æ–ª–æ—Å"},
                {"id": 6, "name": "–ê–Ω–¥—Ä–µ–π –ú–æ–∫—Ä–æ—É—Å–æ–≤", "avatar": "6.jpg", "valueText": "19 –≥–æ–ª–æ—Å–æ–≤"},
                {"id": 7, "name": "–î–º–∏—Ç—Ä–∏–π –ê–Ω–¥—Ä–∏—è–Ω–æ–≤", "avatar": "7.jpg", "valueText": "18 –≥–æ–ª–æ—Å–æ–≤"},
                {"id": 1, "name": "–ï–≤–≥–µ–Ω–∏–π –î–µ–º–µ–Ω—Ç—å–µ–≤", "avatar": "1.jpg", "valueText": "16 –≥–æ–ª–æ—Å–æ–≤"},
                {"id": 9, "name": "–°–µ—Ä–≥–µ–π –ë–µ—Ä–µ–∂–Ω–æ–π", "avatar": "9.jpg", "valueText": "14 –≥–æ–ª–æ—Å–æ–≤"},
                {"id": 8, "name": "–ê–ª–µ–∫—Å–∞–Ω–¥—Ä –ò–≤–∞–Ω–∫–æ–≤", "avatar": "8.jpg", "valueText": "13 –≥–æ–ª–æ—Å–æ–≤"},
                {"id": 11, "name": "–Æ—Ä–∏–π –§—Ä–æ–ª–æ–≤", "avatar": "11.jpg", "valueText": "11 –≥–æ–ª–æ—Å–æ–≤"},
                {"id": 10, "name": "–Ø–Ω–∞ –ë–µ—Ä–Ω–∏–∫–æ–≤–∞", "avatar": "10.jpg", "valueText": "9 –≥–æ–ª–æ—Å–æ–≤"},
                {"id": 12, "name": "–ê–ª–µ–∫—Å–µ–π –Ø—Ä–æ—à–µ–≤–∏—á", "avatar": "12.jpg", "valueText": "7 –≥–æ–ª–æ—Å–æ–≤"},
                {"id": 5, "name": "–ê–ª–µ–∫—Å–∞–Ω–¥—Ä –ù–∏–∫–æ–ª–∞–∏—á–µ–≤", "avatar": "5.jpg", "valueText": "6 –≥–æ–ª–æ—Å–æ–≤"},
                {"id": 4, "name": "–í–∞–¥–∏–º –ü–∞—Ü–µ–≤", "avatar": "4.jpg", "valueText": "5 –≥–æ–ª–æ—Å–æ–≤"}
            ]
        }
    },
    {
        "alias": "chart",
        "data": {
            "title": "–ö–æ–º–º–∏—Ç—ã",
            "subtitle": "–°–ø—Ä–∏–Ω—Ç ‚Ññ 213",
            "values": [
                {"title": "203", "value": 108},
                {"title": "204", "value": 160},
                {"title": "205", "value": 126},
                {"title": "206", "value": 134},
                {"title": "207", "value": 112},
                {"title": "208", "value": 152},
                {"title": "209", "value": 128},
                {"title": "210", "value": 164},
                {"title": "211", "value": 118},
                {"title": "212", "value": 140},
                {"title": "213", "value": 182, "active": true},
                {"title": "214", "value": 0},
                {"title": "215", "value": 0},
                {"title": "216", "value": 0},
                {"title": "217", "value": 0},
                {"title": "218", "value": 0}
            ],
            "users": [
                {"id": 3, "name": "–î–∞—Ä—å—è –ö–æ–≤–∞–ª–µ–≤–∞", "avatar": "3.jpg", "valueText": "32"},
                {"id": 9, "name": "–°–µ—Ä–≥–µ–π –ë–µ—Ä–µ–∂–Ω–æ–π", "avatar": "9.jpg", "valueText": "27"},
                {"id": 7, "name": "–î–º–∏—Ç—Ä–∏–π –ê–Ω–¥—Ä–∏—è–Ω–æ–≤", "avatar": "7.jpg", "valueText": "22"}
            ]
        }
    },
    {
        "alias": "chart",
        "data": {
            "title": "–°—Ç—Ä–æ–∫–∏ –∫–æ–¥–∞",
            "subtitle": "–°–ø—Ä–∏–Ω—Ç ‚Ññ 213",
            "values": [
                {"title": "203", "value": 47798},
                {"title": "204", "value": 68590},
                {"title": "205", "value": 55472},
                {"title": "206", "value": 63073},
                {"title": "207", "value": 51917},
                {"title": "208", "value": 65852},
                {"title": "209", "value": 60693},
                {"title": "210", "value": 70631},
                {"title": "211", "value": 57299},
                {"title": "212", "value": 62839},
                {"title": "213", "value": 74156, "active": true},
                {"title": "214", "value": 0},
                {"title": "215", "value": 0},
                {"title": "216", "value": 0},
                {"title": "217", "value": 0},
                {"title": "218", "value": 0}
            ],
            "users": [
                {"id": 12, "name": "–ê–ª–µ–∫—Å–µ–π –Ø—Ä–æ—à–µ–≤–∏—á", "avatar": "12.jpg", "valueText": "8739"},
                {"id": 8, "name": "–ê–ª–µ–∫—Å–∞–Ω–¥—Ä –ò–≤–∞–Ω–∫–æ–≤", "avatar": "8.jpg", "valueText": "7538"},
                {"id": 10, "name": "–Ø–Ω–∞ –ë–µ—Ä–Ω–∏–∫–æ–≤–∞", "avatar": "10.jpg", "valueText": "6845"}
            ]
        }
    },
    {
        "alias": "diagram",
        "data": {
            "title": "–†–∞–∑–º–µ—Ä –∫–æ–º–º–∏—Ç–æ–≤",
            "subtitle": "–°–ø—Ä–∏–Ω—Ç ‚Ññ 213",
            "totalText": "182 –∫–æ–º–º–∏—Ç–∞",
            "differenceText": "+42 —Å –ø—Ä–æ—à–ª–æ–≥–æ —Å–ø—Ä–∏–Ω—Ç–∞",
            "categories": [
                {"title": "> 1001 —Å—Ç—Ä–æ–∫–∏", "valueText": "30 –∫–æ–º–º–∏—Ç–æ–≤", "differenceText": "+8 –∫–æ–º–º–∏—Ç–æ–≤"},
                {"title": "501 ‚Äî 1000 —Å—Ç—Ä–æ–∫", "valueText": "32 –∫–æ–º–º–∏—Ç–∞", "differenceText": "+6 –∫–æ–º–º–∏—Ç–æ–≤"},
                {"title": "101 ‚Äî 500 —Å—Ç—Ä–æ–∫", "valueText": "58 –∫–æ–º–º–∏—Ç–æ–≤", "differenceText": "+16 –∫–æ–º–º–∏—Ç–æ–≤"},
                {"title": "1 ‚Äî 100 —Å—Ç—Ä–æ–∫", "valueText": "62 –∫–æ–º–º–∏—Ç–∞", "differenceText": "+12 –∫–æ–º–º–∏—Ç–æ–≤"}
            ]
        }
    },
    {
        "alias": "activity",
        "data": {
            "title": "–ö–æ–º–º–∏—Ç—ã, 1 –Ω–µ–¥–µ–ª—è",
            "subtitle": "–°–ø—Ä–∏–Ω—Ç ‚Ññ 213",
            "data": {
                "mon": [0, 0, 0, 0, 1, 0, 0, 0, 0, 0, 2, 3, 2, 1, 0, 1, 0, 0, 0, 0, 0, 0, 0, 0],
                "tue": [0, 0, 0, 0, 1, 0, 0, 0, 0, 5, 0, 4, 0, 0, 0, 0, 1, 0, 3, 0, 0, 2, 1, 0],
                "wed": [1, 0, 0, 0, 1, 0, 5, 0, 0, 4, 0, 0, 0, 5, 0, 2, 1, 0, 0, 0, 0, 0, 0, 1],
                "thu": [0, 1, 0, 1, 0, 0, 0, 0, 6, 0, 1, 0, 0, 1, 0, 0, 5, 0, 0, 0, 1, 0, 0, 0],
                "fri": [0, 0, 0, 0, 0, 0, 0, 1, 3, 0, 0, 5, 0, 4, 0, 0, 3, 0, 0, 0, 0, 1, 0, 0],
                "sat": [0, 0, 0, 0, 2, 1, 0, 0, 1, 0, 1, 1, 1, 0, 0, 0, 0, 0, 0, 1, 0, 0, 0, 0],
                "sun": [0, 0, 0, 0, 0, 0, 0, 1, 0, 0, 0, 0, 3, 1, 0, 0, 0, 0, 0, 0, 1, 0, 0, 0]
            }
        }
    },
    {
        "alias": "activity",
        "data": {
            "title": "–ö–æ–º–º–∏—Ç—ã, 2 –Ω–µ–¥–µ–ª—è",
            "subtitle": "–°–ø—Ä–∏–Ω—Ç ‚Ññ 213",
            "data": {
                "mon": [0, 1, 1, 1, 0, 0, 0, 0, 0, 4, 0, 0, 2, 0, 0, 0, 0, 1, 0, 0, 0, 2, 0, 2],
                "tue": [0, 1, 2, 1, 0, 0, 0, 0, 1, 1, 0, 0, 0, 0, 5, 0, 0, 0, 0, 0, 0, 0, 0, 0],
                "wed": [0, 0, 0, 0, 2, 0, 1, 2, 0, 3, 0, 0, 0, 0, 0, 0, 0, 0, 0, 3, 1, 1, 0, 0],
                "thu": [0, 0, 2, 0, 0, 0, 0, 1, 2, 0, 0, 0, 0, 0, 1, 2, 0, 3, 0, 1, 1, 0, 0, 0],
                "fri": [0, 0, 0, 1, 1, 0, 2, 0, 4, 0, 0, 0, 2, 0, 3, 2, 0, 0, 0, 0, 1, 1, 0, 1],
                "sat": [1, 0, 0, 0, 0, 0, 1, 1, 0, 0, 1, 1, 0, 1, 0, 0, 0, 0, 2, 2, 0, 2, 0, 0],
                "sun": [0, 0, 0, 0, 2, 0, 1, 0, 0, 0, 0, 1, 0, 0, 0, 1, 0, 0, 0, 0, 0, 0, 1, 1]
            }
        }
    }
];

function getScale() {
    let scale = 1;
    if (innerWidth > 1000) scale = 2;
    if (innerWidth > 1500) scale = 3;
    if (innerWidth > 2250) scale = 4;
    return scale;
}

function renderCaptionsAndUsers(title, subtitle, names) {
    return `<div class="captions">
                <div class="title">
                    <p>${title}</p>
                </div>
                <div class="subtitle">
                    <p>${subtitle}</p>
                </div>
            </div>

            <div class="users">
                ${names.join('')}
            </div>
    `;
}

// [users[0], users[2]] = [users[2], users[0]];
// [users[0], users[1]] = [users[1], users[0]];
// [users[3], users[4]] = [users[4], users[3]];
// [users[0], users[3]] = [users[3], users[0]];

function renderLeaders(data) {
    let users = data.users;
    let emoji = `<span class="emoji">${data.emoji}</span>`
    let scale = getScale();
    let selectedUserIndex = '';

    if (data.selectedUserId > 0) {
        users.forEach((item, i, array) => {
            if (array[i].id === data.selectedUserId)
                selectedUserIndex = i;
        });

        if (selectedUserIndex + 1 !== 1) {
            if (selectedUserIndex + 1 > 5) {
                [users[4], users[selectedUserIndex]] = [users[selectedUserIndex], users[4]]
            }
        }
    }

    if (users.length > 5)
        users.splice(5)

    let names = users.map((item, i, array) => {
        //emoji = array[i].id === data.selectedUserId ? `<span class="emoji">üëç</span>` : '';
        let gradeNum = i + 1;
        let isSelected = '';
        if (i+1 !== 1) emoji = '';
        if (array[i].id === data.selectedUserId && i !== 0) {
            emoji = `<span class="emoji">üëç</span>`;
            gradeNum = selectedUserIndex + 1;
            isSelected = 'selected';
        }
        //else emoji = '';
        // if (i+1 !== 1) emoji = '';
        // if (i+1 === 5) emoji = `<span class="emoji">üëç</span>`;
        return `
                <div class="item ${isSelected}">
                        ${emoji}
                        <div class="user-container">
                            <img src="images/${scale}x/${array[i].avatar}" alt="${item.name}">
                            <div class="user-name">${item.name.split(" ")[0]}<br/> ${item.name.split(" ")[1]}</div>
                            <div class="score">${item.valueText}</div>
                        </div>
                        <div class="grade-container">
                            <div class="grade grade-${i+1}"><p>${gradeNum}</p></div>
                        </div>
               </div>`
    });

    return renderCaptionsAndUsers(data.title, data.subtitle, names);
}

function renderVote(data) {
    let users = data.users;
    let emoji = '';
    let scale = getScale();
    let offset = data.offset;
    if (offset > 0) {
        users.forEach((item, i, array) => {
            if (array[i].id === data.offset) offset = i;
        });
        users.splice(0, offset);
    }
    if (users.length > 8) users.splice(8);

    let names = users.map((item, i, array) => {
        let isSelected = '';
        if (i+1 !== 1) emoji = '';
        if (data.selectedUserId === array[i].id) {
            emoji = `<span class="emoji">üëç</span>`;
            isSelected = 'selected';
        }
        return `
                <div class="item ${isSelected}">
                    ${emoji}
                    <div class="user-container">
                        <img src="images/${scale}x/${array[i].avatar}" alt="${item.name}">
                        <div class="user-name">${item.name.split(" ")[0]}<br/> ${item.name.split(" ")[1]}</div>
                    </div>
               </div>`
    });

    let topBtn = `<div class="wrapper-top-btn"><div class="top-btn"></div></div>`;
    let bottomBtn = `<div class="wrapper-bottom-btn"><div class="bottom-btn"></div></div>`;
    names.push(topBtn);
    names.push(bottomBtn);

    return renderCaptionsAndUsers(data.title, data.subtitle, names);
}

global.renderTemplate = function(alias, data) {
    let html;

    switch (alias) {
        case "leaders":
            html =  renderLeaders(data);
            break;
        case "vote":
            html = renderVote(data);
    }

    return `<div class="slide ${alias}">
                ${html}
            </div>`;
}

let output;
// let orientation = outerHeight > outerWidth ? 0:90;

// const urlParams = new URLSearchParams(window.location.search);
const theme = urlParams.get('theme');
var slide = Number(urlParams.get('slide'));
slide = slide === 0 ? 1:slide;
setTimeout(init, 200);

function init() {
    output = document.body;
    // let favicon = "favicon_dark.png"
    if (theme === 'light') {
        output.classList.add('theme_light');
        // favicon = "favicon_light.png";
    }
    else output.classList.add('theme_dark');

    // document.getElementById("favicon").setAttribute('href', favicon)

    output.innerHTML = renderTemplate(obj[slide-1].alias, obj[slide-1].data);
}
